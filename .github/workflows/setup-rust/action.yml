name: Setup Rust
inputs:
  # Use 'read' or 'write' to interact with the cache
  cache:
    required: true
    type: string
    default: false

jobs:
  setup:
    name: Setup Rust
    runs-on: ubuntu-latest
    steps:
      - name: Install Rust toolchain
        uses: actions-rust-lang/setup-rust-toolchain@v1
        with:
          cache: false
      - name: Setup caching
        if: ${{ inputs.cache == 'read' || inputs.cache == 'write' }}
        uses: Swatinem/rust-cache@v2
        with:
          shared-key: "build-debug"
          save-if: ${{ inputs.cache == 'write' }}
