type Message = 
    record {
        id: nat64;
        timestamp: nat64;
        sent_by_me: bool;
        text: text;
    }

service : {
    create_chat: (principal) -> (opt nat64);
    send_message: (nat64, text) -> (bool);
    get_messages: (nat64, nat64) -> (opt vec Message) query;
}