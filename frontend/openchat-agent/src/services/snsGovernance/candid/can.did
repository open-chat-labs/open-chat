// This is a trimmed down version of the full SNS governance candid file which can be found here -
// https://github.com/dfinity/ic/blob/master/rs/sns/governance/canister/governance.did

type GetProposal = record { proposal_id : opt ProposalId };
type GetProposalResponse = record { result : opt GetProposalResult };
type GetProposalResult = variant { Error : GovernanceError; Proposal : ProposalDataTrimmed };
type GovernanceError = record { error_message : text; error_type : int32 };
type ProposalId = record { id : nat64 };

type ProposalDataTrimmed = record {
  latest_tally : opt Tally;
};

type Tally = record {
  no : nat64;
  yes : nat64;
  total : nat64;
  timestamp_seconds : nat64;
};

type ListNervousSystemFunctionsResponse = record {
    reserved_ids : vec nat64;
    functions : vec NervousSystemFunction;
};

type NervousSystemFunction = record {
    id : nat64;
    name : text;
    description : opt text;
    function_type : opt FunctionType;
};

type FunctionType = variant {
    NativeNervousSystemFunction : record {};
    GenericNervousSystemFunction : GenericNervousSystemFunction;
};

type GenericNervousSystemFunction = record {
    validator_canister_id : opt principal;
    target_canister_id : opt principal;
    validator_method_name : opt text;
    target_method_name : opt text;
};

service : {
    get_proposal : (GetProposal) -> (GetProposalResponse) query;
    list_nervous_system_functions : () -> (ListNervousSystemFunctionsResponse) query;
}